apply {
  plugin 'java'
  plugin 'jacoco'
}

[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

jar {
    baseName = 'mock-test'
    version = '1.0.0'
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    mavenCentral()
    maven {url 'http://maven.seasar.org/maven2'}
}

dependencies {
    compile("org.postgresql:postgresql:9.4-1205-jdbc42")
    compile("log4j:log4j:1.2.17")
    testCompile("junit:junit:4.12")
    testCompile("org.mockito:mockito-all:1.9.5")
}

task wrapper(type: Wrapper) {
    gradleVersion = '1.12'
}

jacocoTestReport {
    afterEvaluate {
        classDirectories = files(classDirectories.files.collect {
            fileTree(dir: it, exclude: 'com/my/project/exclude/**')
        })
    }
}